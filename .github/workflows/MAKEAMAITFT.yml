name: AMAI Build CI
on:
  push:
    branches: [ "master" ]
    paths-ignore:
      - 'CHANGELOG.md'
      - 'README.md'
      - 'LICENSE'
jobs:
  amai:
    runs-on: windows-2022
    steps:
    - uses: actions/checkout@v3
    - uses: shogo82148/actions-setup-perl@v1
      with:
        perl-version: '5.30'
        distribution: strawberry
     - cache:  
        key: AMAI   # 自定义的缓存键，用于区分不同的缓存版本  
        paths:
          - ./ 
          - ./download/ 
    - run: perl -V    
    - run: ./MakeAMAIonline.bat
