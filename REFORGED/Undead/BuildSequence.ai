//============================================================================
//  global builds
//============================================================================
function global_init_strategy takes nothing returns nothing
    call SetTierBlock(1, 0.75, 60, true)
    call SetTierBlock(2, 0.75, 90, true)
    if not IsMapFlagSet(MAP_RANDOM_HERO) then
      call AddBlock(1, uUNDEAD_ALTAR, true, 0, uTOMB_OF_RELICS, 36)
      call AddBlock(1, uUNDEAD_ALTAR, false, 0, uCRYPT, 16)
      call AddBlock(1, uUNDEAD_ALTAR, false, 0, uZIGGURAT_1, 16)
      call AddBlock(1, uUNDEAD_ALTAR, true, 0, uZIGGURAT_2, 20)
      call AddBlock(1, uUNDEAD_ALTAR, true, 0, uZIGGURAT_FROST, 16)
    endif
    call AddBlock(1, uCRYPT, true, 0, uTOMB_OF_RELICS, 36)
    call AddBlock(1, uCRYPT, false, 0, uGRAVEYARD, 20)
    call AddHarass(1, 1, uGHOUL)
    call AddHarass(2, 2, uGHOUL)
    call AddHarass(3, 2, uGARGOYLE)







































endfunction
function global_build_sequence takes nothing returns nothing
    if TownCount(uGHOUL) == 0 and GetWood() < 500 then
      call BuildUnit(1, uGHOUL, ghoul_prio)
    endif
      // Anti rush
    if GetRushFactor() < 5000 then
      call BuildAtMine(1, uZIGGURAT_FROST, 70)
      call BuildUnit(2, uZIGGURAT_2, 45)
    elseif GetRushFactor() < 10000 then
      call BuildAtMine(1, uZIGGURAT_FROST, 60)
      call BuildUnit(2, uZIGGURAT_2, 40)
    endif
    if GetGold() > 800 then
      call BuildUnit(1, uZIGGURAT_2, 50)
      call BuildAtMine(1, uZIGGURAT_FROST, 52)
    endif
    if HasExpanded() then
      call BuildUnit(1, uZIGGURAT_2, 45)
      call BuildUnit(1, uZIGGURAT_FROST, 40)
      if GetGold() > 800 then
            call DefendTownsDone(1, uNECROPOLIS_1, 95)
      endif
      if GetGold() > 2000 then
            call DefendTownsDone(3, uZIGGURAT_2, 90)
            call DefendTownsDone(1, uZIGGURAT_FROST, 50)
            call DefendTownsCond(1, uZIGGURAT_FROST, 0, 8000, 0, 80)
            if tier >= 2 then
              call DefendTownsCond(1, uNECROPOLIS_2, 7600, 99999, 0, 90)
            endif
            if tier >= 2 and TownCount(uZIGGURAT_2) >= 2 and TownCount(uTOMB_OF_RELICS) < 2 then
                  call DefendTownsDone(1, uTOMB_OF_RELICS, 40)
            endif
      endif
    endif

    // Global Items
    call BuildItem(1, uM_TOWN_PORTAL, 100)
    call BuildItem(1, uPOTION_OF_LESSER_INVULNERBILITY, 50)
    call BuildItem(1, uM_SCROLL_OF_HEALING, 50 + (tier - 1) * 15)
    if tier >= 2 then
      call BuildItem(1, uHEALING_POTION, 60)
      call BuildItem(1, uTOWN_PORTAL, 150)
      if c_ally_total > 0 then
        call BuildItem(1, uSTAFF_OF_PRESERVATION, 30)
      endif
    endif  
    if tier >= 3 then
      if c_ally_total > 0 then
            call BuildItem(1, uSTAFF_OF_SANCTUARY, 30)
      endif
    endif
    if GetGold() > 1000 then
      call BuildItem(1, uSTAFF_OF_TELEPORTATION, 35)
    endif


    // DYNAMIC
    call ResetDynamicSystem()
    if tier == 1 then
      call AddUnitToAntiair(uCRYPT_FIEND,GetUpgradeLevel(old_id[uUPG_FIEND_WEB]))
      call AddUnitToAnticasters(uCRYPT_FIEND,29)
      call AddUnitToAntitowers(uCRYPT_FIEND,29)
      call AddUnitToAntipiercing(uGHOUL, 29)
      call AddUnitToAntinormal(uGHOUL, 1)
      call AddUnitToAntisiege(uCRYPT_FIEND,1)
      call AddUnitToAntisiege(uGHOUL,1)
      call AddUnitToAntimagic(uCRYPT_FIEND,1)
      call AddUnitToAntiunarmored(uCRYPT_FIEND,29)
      call AddUnitToAntilightarmor(uCRYPT_FIEND,29)
      call AddUnitToAntimediumarmor(uGHOUL,7)
      call AddUnitToAntiheavyarmor(uGHOUL,29)
      call DynamicBuildUnit(32, 40)
      call BuildUnit(1, merc_range, 65)
      call BuildUnit(1, merc_caster, 65)
    elseif tier == 2 then
      call AddUnitToAntiair(uCRYPT_FIEND,GetUpgradeLevel(old_id[uUPG_FIEND_WEB]))
      call AddUnitToAntiair(uGARGOYLE,1)
      call AddUnitToAnticasters(uCRYPT_FIEND,10)
      call AddUnitToAnticasters(uBANSHEE,5+15*GetUpgradeLevel(old_id[uUPG_BANSHEE]))
      call AddUnitToAntitowers(uMEAT_WAGON,1)
      call AddUnitToAntipiercing(uGHOUL, 1)
      call AddUnitToAntipiercing(uCRYPT_FIEND, 1)
      call AddUnitToAntinormal(uGHOUL, 1)
      call AddUnitToAntisiege(uCRYPT_FIEND,1)
      call AddUnitToAntisiege(uBANSHEE,GetUpgradeLevel(old_id[uUPG_BANSHEE]))
      call AddUnitToAntimagic(uCRYPT_FIEND,1)
      call AddUnitToAntiunarmored(uCRYPT_FIEND,7)
      call AddUnitToAntiunarmored(uMEAT_WAGON,1)
      call AddUnitToAntilightarmor(uCRYPT_FIEND,25)
      call AddUnitToAntilightarmor(uGARGOYLE,24)
      call AddUnitToAntimediumarmor(uGHOUL,7)
      call AddUnitToAntiheavyarmor(uNECRO,4)
      call AddUnitToAntiheavyarmor(uBANSHEE,2)
      call AddUnitToAntiheavyarmor(uMEAT_WAGON,1)
      call DynamicBuildUnit(64, 40)
      call BuildUnit(1, dragons[3], 65)
      call BuildUnit(1, merc_stopper, 65)
    else
      call AddUnitToAntiair(uCRYPT_FIEND,1)
      call AddUnitToAntiair(uGARGOYLE,1)
      call AddUnitToAnticasters(uBLK_SPHINX,4)
      call AddUnitToAnticasters(uBANSHEE,1)
      call AddUnitToAntitowers(uMEAT_WAGON,1)
      call AddUnitToAntipiercing(uABOMINATION, 1)
      call AddUnitToAntipiercing(uCRYPT_FIEND, 1)
      call AddUnitToAntinormal(uABOMINATION, 1)
      call AddUnitToAntinormal(uGHOUL, 1)
      call AddUnitToAntisiege(uCRYPT_FIEND,1)
      call AddUnitToAntimagic(uCRYPT_FIEND,1)
      call AddUnitToAntiunarmored(uCRYPT_FIEND,7)
      call AddUnitToAntiunarmored(uMEAT_WAGON,1)
      call AddUnitToAntilightarmor(uCRYPT_FIEND,5)
      call AddUnitToAntilightarmor(uGARGOYLE,5)
      call AddUnitToAntilightarmor(uBLK_SPHINX,1)
      call AddUnitToAntilightarmor(uFROST_WYRM,1)
      call AddUnitToAntimediumarmor(uGHOUL,7)
      call AddUnitToAntimediumarmor(uABOMINATION,1)
      call AddUnitToAntiheavyarmor(uNECRO,5)
      call AddUnitToAntiheavyarmor(uBANSHEE,2)
      call AddUnitToAntiheavyarmor(uFROST_WYRM,5)
      call AddUnitToAntiheavyarmor(uBLK_SPHINX,4)
      call AddUnitToAntiheavyarmor(uMEAT_WAGON,1)
      call DynamicBuildUnit(100, 40)
      call BuildUnit(1, dragons[3], 65)
    endif

    // TIER 1 UPGRADES
    //--------------------------------------------------------
    if tier >= 1 then
      call BuildUpgr(1, uUPG_BACKPACK_UNDEAD, 10)
    endif
      call BuildAdvUpgr2(3, uUPG_UNHOLY_STR, 1,TownCountDone(uGHOUL) + TownCountDone(uABOMINATION) + TownCountDone(uMEAT_WAGON), 3,15,35)
      call BuildAdvUpgr2(3, uUPG_UNHOLY_ARMOR,1,TownCountDone(uGHOUL) + TownCountDone(uABOMINATION),3,15,35)
      call BuildAdvUpgr2(3, uUPG_CR_ATTACK, 1,TownCountDone(uCRYPT_FIEND) + TownCountDone(uGARGOYLE) + TownCountDone(uFROST_WYRM) + TownCountDone(uBLK_SPHINX),3,15,35)
      call BuildAdvUpgr2(3, uUPG_CR_ARMOR,1,TownCountDone(uCRYPT_FIEND) + TownCountDone(uGARGOYLE) + TownCountDone(uFROST_WYRM) + TownCountDone(uBLK_SPHINX),3,15,35)
      call BuildAdvUpgr2(1, uUPG_CANNIBALIZE,1,TownCountDone(uGHOUL) + TownCountDone(uABOMINATION), 0.33,15,75)

    // TIER 2 UPGRADES
    //--------------------------------------------------------
    if tier == 2 then
    endif
    call BuildAdvUpgr2(2, uUPG_FIEND_WEB,2,TownCountDone(uCRYPT_FIEND),0.33,15,85)
    call BuildAdvUpgr2(2, uUPG_NECROS,2,TownCountDone(uNECRO),0.33,15,95)
    call BuildAdvUpgr2(1, uUPG_SKEL_MASTERY,2,TownCountDone(uNECRO),0.33,15,75)
    call BuildAdvUpgr2(2, uUPG_BANSHEE,2,TownCountDone(uBANSHEE),0.33,15,95)
    call BuildAdvUpgr2(1, uUPG_EXHUME, 2,TownCountDone(uMEAT_WAGON), 1, 10,60)
    call BuildAdvUpgr2(1, uUPG_BURROWING, 2,TownCountDone(uCRYPT_FIEND),0.5,10,80)

    // TIER 3 UPGRADES
    //--------------------------------------------------------
    if tier == 3 then
    endif
    call BuildAdvUpgr2(1, uUPG_STONE_FORM,3,TownCountDone(uGARGOYLE),0.33,10,60)
    call BuildAdvUpgr2(1, uUPG_BLK_SPHINX,3,TownCountDone(uOBSIDIAN_STATUE),1,10,90)
    call BuildAdvUpgr2(1, uUPG_WYRM_BREATH,3,TownCountDone(uFROST_WYRM),0.25,10,60)
    call BuildAdvUpgr2(1, uUPG_PLAGUE,3,TownCountDone(uABOMINATION)+TownCountDone(uMEAT_WAGON), 1,10,30)

    // Global Mercenaries

    // Harassing
    if not towerrush and not town_threatened then
      call Harass(2, HARASS_TARGET_PEONS, true, 5, 0.75, 0, GetPlayerRace(nearest_enemy) != RACE_UNDEAD, 50, 120)
      call Harass(1, HARASS_TARGET_PEONS, true, 5, 0.75, 0, GetPlayerRace(nearest_enemy) == RACE_NIGHTELF and TownCount(uGHOUL) > 1, 10, 40)
      call Harass(3, HARASS_TARGET_PEONS, true, 5, 0.75, 0, GetPlayerRace(nearest_enemy) != RACE_UNDEAD, 80, 120)
    endif









































endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_NormalUndead takes nothing returns nothing

    call AddHarass(4, 2, uGHOUL)
    set distraction_group = 4















endfunction
function build_sequence_NormalUndead takes nothing returns nothing
if tier == 3 then

      call BuildUnit(4, uNECRO, 48)
      call BuildUnit(3, uBANSHEE, 52)
      call BuildUnit(3, uABOMINATION, 52)
      call BuildUnit(5, uGHOUL, 40)
      call BuildUnit(4, uGARGOYLE, 48)
      call BuildUnit(4, uCRYPT_FIEND, 50)
      call BuildUnit(2, uFROST_WYRM, 52)
      call BuildUnit(2, uMEAT_WAGON, 52)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)
      call BuildUnit(2, uBLK_SPHINX, 52)
      call BuildUnit(2, uOBSIDIAN_STATUE, 54)
      call BuildUpgr(2, uUPG_NECROS, 54)
      call BuildUpgr(2, uUPG_BANSHEE, 54)
      
      call BuildUpgr(1, uUPG_BLK_SPHINX, 40)
















elseif tier == 2 then

      call BuildUnit(3, uNECRO, 50)
      call BuildUnit(2, uBANSHEE, 54)
      call BuildUnit(6, uCRYPT_FIEND, 52)
      call BuildUnit(14, uGHOUL, 30)
      call BuildUnit(2, uMEAT_WAGON, 54)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, uNECROPOLIS_3, 50)
      call BuildUpgr(1, uUPG_NECROS, 56)
      call BuildUpgr(1, uUPG_BANSHEE, 56)
      call BuildUpgr(1, uUPG_FIEND_WEB, 56)

















else

      call BuildUnit(12, uGHOUL, 55)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 45)

















endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_Wyrms takes nothing returns nothing

    call AddHarass(4, 2, uGHOUL)
    set distraction_group = 4















endfunction
function build_sequence_Wyrms takes nothing returns nothing
if tier == 3 then

      call BuildUnit(3, uGHOUL, 90)
      call BuildUnit(12, uCRYPT_FIEND, 50)
      call BuildUnit(2, uOBSIDIAN_STATUE, 53)
      call BuildUnit(7, uFROST_WYRM, 50)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)


      call BuildUpgr(1, uUPG_FIEND_WEB, 66)
      call BuildUpgr(1, uUPG_WYRM_BREATH, 60)
      call BuildUpgr(1, uUPG_BURROWING, 66)















elseif tier == 2 then

      call BuildUnit(3, uGHOUL, 90)
      call BuildUnit(14, uCRYPT_FIEND, 40)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(2, uOBSIDIAN_STATUE, 53)
      call BuildUnit(1, uNECROPOLIS_3, 65)


      call BuildUpgr(1, uUPG_FIEND_WEB, 60)
      call BuildUpgr(1, uUPG_BURROWING, 60)














else

      call BuildUnit(3, uGHOUL, 90)
      call BuildUnit(10, uCRYPT_FIEND, 40)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)

















endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_Necro takes nothing returns nothing

    call AddHarass(4, 2, uNECRO)
    set distraction_group = 4













endfunction
function build_sequence_Necro takes nothing returns nothing
if tier == 3 then

      call BuildUnit(16, uNECRO, 55)
      call BuildUnit(6, uABOMINATION, 50)
      call BuildUnit(2, uMEAT_WAGON, 60)
      call BuildUnit(2, uOBSIDIAN_STATUE, 55)
      call BuildUnit(5, uGHOUL, 90)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)

      call BuildUpgr(2, uUPG_NECROS, 91)
      call BuildUpgr(1, uUPG_SKEL_MASTERY, 85)
      call BuildUpgr(1, uUPG_EXHUME, 65)
      call BuildUpgr(1, uUPG_PLAGUE, 50)












elseif tier == 2 then

      call BuildUnit(12, uNECRO, 55)
      call BuildUnit(10, uGHOUL, 55)
      call BuildUnit(2, uOBSIDIAN_STATUE, 55)
      call BuildUnit(2, uMEAT_WAGON, 60)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, uNECROPOLIS_3, 55)

      call BuildUpgr(1, uUPG_NECROS, 79)
      call BuildUpgr(1, uUPG_EXHUME, 65)
















else

    call BuildUnit(12, uGHOUL, 90)
    call BuildUnit(1, hero[1], 150)
    call BuildUnit(1, uNECROPOLIS_2, 50)
















endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_Banshee takes nothing returns nothing

    call AddHarass(4, 2, uBANSHEE)
    set distraction_group = 4















endfunction
function build_sequence_Banshee takes nothing returns nothing
if tier == 3 then

      call BuildUnit(16, uBANSHEE, 50)
      call BuildUnit(6, uABOMINATION, 50)
      call BuildUnit(2, uOBSIDIAN_STATUE, 55)
      call BuildUnit(5, uGHOUL, 90)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)

      call BuildUpgr(2, uUPG_BANSHEE, 86)
      call BuildUpgr(1, uUPG_PLAGUE, 80)
















elseif tier == 2 then

      call BuildUnit(12, uBANSHEE, 50)
      call BuildUnit(2, uOBSIDIAN_STATUE, 55)
      call BuildUnit(12, uGHOUL, 90)
      call BuildUnit(1, hero[1], 130)
      call BuildUnit(1, hero[2], 120)
      call BuildUnit(1, uNECROPOLIS_3, 55)

      call BuildUpgr(1, uUPG_BANSHEE, 70)

















else

      call BuildUnit(12, uGHOUL, 90)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)

















endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_Ghouls takes nothing returns nothing

    call AddHarass(4, 2, uGHOUL)
    set distraction_group = 4

















endfunction
function build_sequence_Ghouls takes nothing returns nothing
if tier == 3 then

      call BuildUnit(35, uGHOUL, 45)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)


      call BuildUpgr(1, uUPG_GHOUL_FRENZY, 115)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 115)

















elseif tier == 2 then

      call BuildUnit(24, uGHOUL, 35)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(1, hero[1], 130)
      call BuildUnit(1, hero[2], 120)
      call BuildUnit(1, uNECROPOLIS_3, 55)


      call BuildUpgr(1, uUPG_CANNIBALIZE, 83)


















else

      call BuildUnit(16, uGHOUL, 35)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 83)



















endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_GargGhouls takes nothing returns nothing
    call AddHarass(4, 2, uGHOUL)
    set distraction_group = 4





endfunction
function build_sequence_GargGhouls takes nothing returns nothing
if tier == 3 then

      call BuildUnit(22, uGHOUL, 35)
      call BuildUnit(24, uGARGOYLE, 40)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)
      call BuildUnit(1, uNECROPOLIS_3, 55)

      call BuildUpgr(1, uUPG_GHOUL_FRENZY, 115)
      call BuildUpgr(1, uUPG_STONE_FORM, 43)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 83)




elseif tier == 2 then

      call BuildUnit(15, uGHOUL, 35)
      call BuildUnit(12, uGARGOYLE, 40)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, uNECROPOLIS_3, 60)

      call BuildUpgr(1, uUPG_CANNIBALIZE, 83)




else

      call BuildUnit(16, uGHOUL, 35)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 83)








endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_Fiends takes nothing returns nothing

    call AddHarass(4, 2, uCRYPT_FIEND)
    set distraction_group = 4
















endfunction
function build_sequence_Fiends takes nothing returns nothing
if tier == 3 then

      call BuildUnit(20, uCRYPT_FIEND, 55)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(6, uGHOUL, 45)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)


      call BuildUpgr(1, uUPG_FIEND_WEB, 95)
      call BuildUpgr(1, uUPG_BURROWING, 95)
















elseif tier == 2 then

      call BuildUnit(14, uCRYPT_FIEND, 45)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(6, uGHOUL, 55)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)

      call BuildUnit(1, uNECROPOLIS_3, 45)
      call BuildUpgr(1, uUPG_FIEND_WEB, 74)
      call BuildUpgr(1, uUPG_BURROWING, 74)
















else

      call BuildUnit(4, uGHOUL, 90)
      call BuildUnit(10, uCRYPT_FIEND, 40)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)



















endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_GargWyrm takes nothing returns nothing

    call AddHarass(4, 2, uGARGOYLE)
    set distraction_group = 4














endfunction
function build_sequence_GargWyrm takes nothing returns nothing
if tier == 3 then

      call BuildUnit(5, uABOMINATION, 55)
      call BuildUnit(3, uGHOUL, 45)
      call BuildUnit(10, uGARGOYLE, 45)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(6, uFROST_WYRM, 60)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)

      call BuildUpgr(1, uUPG_PLAGUE, 71)
      call BuildUpgr(1, uUPG_STONE_FORM, 72)
      call BuildUpgr(1, uUPG_WYRM_BREATH, 55)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 70)














elseif tier == 2 then

      call BuildUnit(12, uGHOUL, 45)
      call BuildUnit(12, uGARGOYLE, 40)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, uNECROPOLIS_3, 60)

      call BuildUpgr(1, uUPG_CANNIBALIZE, 50)

















else

      call BuildUnit(12, uGHOUL, 44)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 50)
















endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_Aboms takes nothing returns nothing

    call AddHarass(4, 1, uABOMINATION)
    set distraction_group = 4












endfunction
function build_sequence_Aboms takes nothing returns nothing
if tier == 3 then

      call BuildUnit(4, uGHOUL, 45)
      call BuildUnit(18, uABOMINATION, 35)
      call BuildUnit(2, uBLK_SPHINX, 50)
      call BuildUnit(2, uOBSIDIAN_STATUE, 55)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)

      call BuildUpgr(1, uUPG_PLAGUE, 71)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 71)
      call BuildUpgr(1, uUPG_BLK_SPHINX, 40)












elseif tier == 2 then

      call BuildUnit(16, uGHOUL, 40)
      call BuildUnit(2, uOBSIDIAN_STATUE, 55)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, uNECROPOLIS_3, 55)


      call BuildUpgr(1, uUPG_CANNIBALIZE, 56)















else

      call BuildUnit(12, uGHOUL, 90)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 56)















endif
endfunction

//============================================================================
//  build_sequence
//============================================================================
function init_strategy_MeatFiends takes nothing returns nothing

    call AddHarass(4, 2, uCRYPT_FIEND)
    set distraction_group = 4














endfunction
function build_sequence_MeatFiends takes nothing returns nothing
if tier == 3 then

      call BuildUnit(18, uCRYPT_FIEND, 45)
      call BuildUnit(6, uMEAT_WAGON, 60)
      call BuildUnit(2, uBLK_SPHINX, 50)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(8, uGHOUL, 45)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)


      call BuildUpgr(1, uUPG_FIEND_WEB, 77)
      call BuildUpgr(1, uUPG_EXHUME, 72)
      call BuildUpgr(1, uUPG_BLK_SPHINX, 40)













elseif tier == 2 then

      call BuildUnit(13, uCRYPT_FIEND, 45)
      call BuildUnit(4, uMEAT_WAGON, 50)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(6, uGHOUL, 55)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)

      call BuildUnit(1, uNECROPOLIS_3, 50)

      call BuildUpgr(1, uUPG_FIEND_WEB, 69)
      call BuildUpgr(1, uUPG_EXHUME, 58)
















else

      call BuildUnit(6, uGHOUL, 90)
      call BuildUnit(8, uCRYPT_FIEND, 40)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)
















endif
endfunction

function init_strategy_MassDestroyer takes nothing returns nothing


















endfunction
function build_sequence_MassDestroyer takes nothing returns nothing
if tier == 3 then

      call BuildUpgr(1, uUPG_BLK_SPHINX, 70)
      call BuildUnit(2, uOBSIDIAN_STATUE, 65)
      call BuildUnit(15, uBLK_SPHINX, 55)
      call BuildUnit(4, uABOMINATION, 60)
      call BuildUnit(3, uGHOUL, 90)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)

      call BuildUpgr(1, uUPG_FIEND_WEB, 65)
      call BuildUpgr(1, uUPG_BURROWING, 65)
      call BuildUpgr(1, uUPG_PLAGUE, 45)




















elseif tier == 2 then

      call BuildUnit(6, uOBSIDIAN_STATUE, 55)
      call BuildUnit(10, uGHOUL, 55)
      call BuildUnit(8, uCRYPT_FIEND, 50)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, uNECROPOLIS_3, 63)
      call BuildUpgr(1, uUPG_FIEND_WEB, 45)






















else

      call BuildUnit(10, uGHOUL, 90)
      call BuildUnit(6, uCRYPT_FIEND, 50)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)





















endif
endfunction

function init_strategy_CryptMix takes nothing returns nothing

    call AddHarass(4, 3, uGHOUL)
    set distraction_group = 4


























endfunction
function build_sequence_CryptMix takes nothing returns nothing
if tier == 3 then

      call SetBuildReact(20, 5, uABOMINATION, 2, uCRYPT_FIEND, (enemy_unarmored + (enemy_air * 2) + enemy_magic - (enemy_normal * 3)), 4, 25, 70)
      call SetBuildReact(20, 0, uCRYPT_FIEND, 0, uGARGOYLE, ((enemy_air * 3) + enemy_normal - (enemy_piercing * 2) - enemy_unarmored), 4, 25, 60)
      call SetBuildReact(15, 2, uOBSIDIAN_STATUE, 0, uBLK_SPHINX, ((enemy_magic * 2) + enemy_casters - (enemy_piercing * 2)), 4, 25, 65)
      call SetBuildReact(15, 0, uMEAT_WAGON, 1, uBLK_SPHINX, ((enemy_magic * 2) + enemy_casters - enemy_piercing - enemy_towers - (enemy_unarmored * 2)), 4, 25, 55)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)
      call BuildUpgr(Min((TownCountDone(uGHOUL)/5),1), uUPG_GHOUL_FRENZY, 60)
      call BuildUpgr(Min((TownCountDone(uCRYPT_FIEND)/3),1), uUPG_BURROWING, 60)
      call BuildUpgr(Min((TownCountDone(uCRYPT_FIEND)/3),1), uUPG_FIEND_WEB, 50)
      call BuildUpgr(Min((TownCountDone(uMEAT_WAGON) + TownCountDone(uABOMINATION))/4,1), uUPG_PLAGUE, 50)
      call BuildUpgr(Min((TownCountDone(uGHOUL)/5),1), uUPG_CANNIBALIZE, 60)
      call BuildUpgr(Min((TownCountDone(uGHOUL) + TownCountDone(uABOMINATION))/4,3), uUPG_UNHOLY_STR, 60)
      call BuildUpgr(Min((((TownCountDone(uCRYPT_FIEND)) + TownCountDone(uGARGOYLE))/3),3), uUPG_CR_ATTACK, 60)
      call BuildUpgr(Min((TownCountDone(uGHOUL) + TownCountDone(uABOMINATION))/4,3), uUPG_UNHOLY_ARMOR, 50)
      call BuildUpgr(Min((((TownCountDone(uCRYPT_FIEND)) + TownCountDone(uGARGOYLE))/3),3), uUPG_CR_ARMOR, 50)






















elseif tier == 2 then

      call SetBuildReact(20, 4, uGHOUL, 3, uCRYPT_FIEND, (enemy_unarmored + (enemy_air * 2) + enemy_magic - (enemy_normal * 3)), 4, 25, 70)
      call SetBuildReact(20, 0, uCRYPT_FIEND, 0, uGARGOYLE, ((enemy_air * 3) + enemy_normal - (enemy_piercing * 2) - enemy_unarmored), 4, 25, 60)
      call BuildUnit(2, uOBSIDIAN_STATUE, 55)
      call BuildUnit(1, uMEAT_WAGON, 55)
      call BuildUnit(1, uNECROPOLIS_3, 50)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUpgr(Min((TownCountDone(uCRYPT_FIEND)/3),1), uUPG_BURROWING, 60)
      call BuildUpgr(Min((TownCountDone(uCRYPT_FIEND)/3),1), uUPG_FIEND_WEB, 50)
      call BuildUpgr(Min((TownCountDone(uGHOUL)/5),1), uUPG_CANNIBALIZE, 60)
      call BuildUpgr(Min(TownCountDone(uGHOUL)/3,2), uUPG_UNHOLY_STR, 60)
      call BuildUpgr(Min((((TownCountDone(uCRYPT_FIEND)) + TownCountDone(uGARGOYLE))/3),2), uUPG_CR_ATTACK, 60)
      call BuildUpgr(Min(TownCountDone(uGHOUL)/3,2), uUPG_UNHOLY_ARMOR, 50)
      call BuildUpgr(Min((((TownCountDone(uCRYPT_FIEND)) + TownCountDone(uGARGOYLE))/3),2), uUPG_CR_ARMOR, 50)





















else

      call SetBuildReact(26, 5, uGHOUL, 3, uCRYPT_FIEND, ((enemy_unarmored * 3) + enemy_magic - (enemy_normal * 3)), 4, 25, 65)
      call BuildUpgr(Min((TownCountDone(uGHOUL)/5),1), uUPG_CANNIBALIZE, 60)
      call BuildUnit(1, uNECROPOLIS_2, 55)
      call BuildUnit(1, hero[1], 150)





















endif
endfunction

function init_strategy_TempleMix takes nothing returns nothing
    call AddHarass(4, 1, uNECRO)
    set distraction_group = 4
























endfunction
function build_sequence_TempleMix takes nothing returns nothing
if tier == 3 then

      call SetBuildReact(20, 3, uABOMINATION, 2, uMEAT_WAGON, (enemy_towers * 2), 4, 25, 70)
      call SetBuildReact(20, 5, uNECRO, 5, uBANSHEE, (enemy_casters * 2) - enemy_normal, 4, 25, 60)
      call SetBuildReact(20, 2, uOBSIDIAN_STATUE, 0, uBLK_SPHINX, ((enemy_magic * 2) + enemy_casters - (enemy_piercing * 2)), 4, 25, 70)
      call BuildUnit(6, uGHOUL, 25)
      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)
      call BuildUpgr(Min((TownCountDone(uMEAT_WAGON) + TownCountDone(uABOMINATION))/4,1), uUPG_PLAGUE, 50)
      call BuildUpgr(Min((TownCountDone(uNECRO)/3),2), uUPG_NECROS, 60)
      call BuildUpgr(Min((TownCountDone(uNECRO)/4),1), uUPG_SKEL_MASTERY, 60)
      call BuildUpgr(Min((TownCountDone(uBANSHEE)/3),2), uUPG_BANSHEE, 40)
      call BuildUpgr(Min((TownCountDone(uMEAT_WAGON)/2),1), uUPG_EXHUME, 40)
      call BuildUpgr(Min(TownCountDone(uABOMINATION)/2,3), uUPG_UNHOLY_STR, 60)
      call BuildUpgr(Min(TownCountDone(uABOMINATION)/2,3), uUPG_UNHOLY_ARMOR, 50)




















elseif tier == 2 then

      call BuildUnit(6, uGHOUL, 25)
      call SetBuildReact(30, 5, uNECRO, 5, uBANSHEE, (enemy_casters * 2) - enemy_normal, 4, 25, 75)
      call SetBuildReact(10, 3, uOBSIDIAN_STATUE, 2, uMEAT_WAGON, enemy_towers, 4, 25, 65)
      call BuildUnit(1, uNECROPOLIS_3, 55)
      call BuildUnit(1, hero[1], 130)
      call BuildUnit(1, hero[2], 120)
      call BuildUpgr(Min((TownCountDone(uNECRO)/3),1), uUPG_NECROS, 60)
      call BuildUpgr(Min((TownCountDone(uNECRO)/3),1), uUPG_SKEL_MASTERY, 50)
      call BuildUpgr(Min((TownCountDone(uBANSHEE)/3),1), uUPG_BANSHEE, 40)
      call BuildUpgr(Min((TownCountDone(uMEAT_WAGON)/2),1), uUPG_EXHUME, 40)




















else

      call BuildUnit(8, uGHOUL, 35)
      call BuildUnit(6, uCRYPT_FIEND, 37)
      call BuildUnit(1, uNECROPOLIS_2, 55)
      call BuildUnit(1, hero[1], 150)




















endif
endfunction





function init_strategy_UAntiTower takes nothing returns nothing

    call AddHarass(4, 2, uGHOUL)
    set distraction_group = 4





















endfunction
function build_sequence_UAntiTower takes nothing returns nothing
if tier == 3 then

      call BuildUnit(1, hero[1], 140)
      call BuildUnit(1, hero[2], 130)
      call BuildUnit(1, hero[3], 120)
      call BuildUnit(6, uFROST_WYRM, 70)
      call BuildUnit(5, uABOMINATION, 60)
      call BuildUnit(10, uMEAT_WAGON, 50)
      call BuildUnit(4, uGHOUL, 55)
      call BuildUpgr(1, uUPG_PLAGUE, 71)
      call BuildUpgr(1, uUPG_CANNIBALIZE, 71)


















elseif tier == 2 then

      call BuildUnit(1, uNECROPOLIS_3, 55)
      call BuildUnit(10, uMEAT_WAGON, 50)
      call BuildUnit(1, hero[1], 130)
      call BuildUnit(1, hero[2], 120)
      call BuildUnit(12, uGHOUL, 55)


















else

      call BuildUnit(12, uGHOUL, 90)
      call BuildUnit(1, hero[1], 150)
      call BuildUnit(1, uNECROPOLIS_2, 50)



















endif
endfunction

